<!DOCTYPE html><html class=''>
<head>
    <meta charset='UTF-8'>
    <meta name="robots" content="noindex">
    <title>The Experiment Factory: Attention Network Task</title>
    
<link rel='stylesheet' type='text/css' href='jspsych.css'>
<link rel='stylesheet' type='text/css' href='default_style.css'>
<link rel='stylesheet' type='text/css' href='style.css'>
<script src='js/jquery.min.js'></script>
<script src='js/math.min.js'></script>
<script src='js/jspsych/jspsych.js'></script>
<script src='js/jspsych/plugins/jspsych-text.js'></script>
<script src='js/jspsych/poldrack_plugins/jspsych-poldrack-text.js'></script>
<script src='js/jspsych/poldrack_plugins/jspsych-poldrack-instructions.js'></script>
<script src='js/jspsych/poldrack_plugins/jspsych-attention-check.js'></script>
<script src='js/jspsych/poldrack_plugins/jspsych-poldrack-single-stim.js'></script>
<script src='js/jspsych/poldrack_plugins/jspsych-poldrack-categorize.js'></script>
<script src='js/jspsych/plugins/jspsych-survey-text.js'></script>
<script src='js/jspsych/plugins/jspsych-call-function.js'></script>
<script src='js/jspsych/poldrack_plugins/poldrack_utils.js'></script>
<script src="js/util.js"></script>
<script src="images/left_arrow.png"> </script> 
<script src = "images/right_arrow.png"></script> 
<script src ="images/no_arrow.png"></script>
	
<script>
    var Lab      = $.QueryString.Lab      ? $.QueryString.Lab      : 0;  // 1 = running in the lab
    var PostTask = $.QueryString.PostTask ? $.QueryString.PostTask : 0;  // 1 = add post-task block
    var Practise = $.QueryString.Practise ? $.QueryString.Practise : 1;  // 1 = include practice block
    var Skip     = $.QueryString.Skip     ? $.QueryString.Skip     : 0;  // 1 = skip task
</script>
<script src='experiment.js'></script>
</head>

<body>
 <link href="https://eatreadgamere.github.io/10-ANT/style.css" rel="stylesheet" type="text/css"></link>

  <div>
    <span style="font-size: 24px;">
      <br><br>
      If you are seeing this message for <span style="color: rgb(255, 0, 0);"><b>more than 5 minutes</b></span>,<br>
      please screen-capture this screen and send the image to us.
      <br><br>
      <span style="font-size: 28px;">We are very sorry for the inconvenience.</span>
    </span>
  </div>

  <!-- Change 2: Adding `display_stage` CSS and Div -->
  <style>
    #display_stage_background {
      width: 100vw;
      background-color: white;
      z-index: -1;
    }

    #display_stage {
      position: fixed;
      left: 1vw;
      top: 1vh;
      height: 98vh;
      width: 98vw;
      background-color: white;
      box-shadow: 1px 1px 1px #999;
      border-radius: 15px;
      z-index: 0;
      overflow-y: hidden;
      overflow-x: hidden;
    }
  </style>

  <div id='display_stage_background'></div>
  <div id='display_stage'></div>


<script>
$(document).ready(function() {
    // allow skipping
    var myfunc = function() {
        return 'do nothing';
    }
    var block = {
        type: 'call-function',
        func: myfunc
    }

    if (Skip == 1) {
        timeline = [];
        timeline.push(block);
        fullscreen = false;
    } else {
        timeline = attention_network_task_experiment;
        fullscreen = true;
    }

    jsPsych.init({
             timeline: timeline,
             display_element: "getDisplayElement",
             fullscreen: fullscreen,
             on_trial_finish: function(data){
               addID('attention-network-task')
             },
             on_finish: function(data){
                 // Serialize the data
                 var promise = new Promise(function(resolve, reject) {
                     var data = jsPsych.data.dataAsJSON();
                     resolve(data);
                 })
                 promise.then(function(data) {
                     $.ajax({
                         type: "POST",
                         url: '/save',
                         data: { "data": data },
                         success: function(){ document.location = "/next" },
                         dataType: "application/json",

                         // Endpoint not running, local save
                         error: function(err) {

                             if (err.status == 200){
                                document.location = "/next"
                             } else {
                                 // if error, assume local save
                                if (Skip == 0) {
                                    jsPsych.data.localSave('attention-network-task-no-feedback_results.json', 'json');
                                }
                            }
                         }
                     });
                 })
             }
      });
});
</script>
</body>
</html>
